########################################
#  This file was generated by hdlmake  #
#  http://ohwr.org/projects/hdl-make/  #
########################################

## variables #############################
PWD := $(shell pwd)
TOP_MODULE :=
FUSE_OUTPUT ?= isim_proj

XILINX_INI_PATH := /opt/Xilinx/13.4/ISE_DS/ISE/vhdl/hdp/lin64

VHPCOMP_FLAGS := -intstyle default -incremental -initfile xilinxsim.ini
ISIM_FLAGS :=
VLOGCOMP_FLAGS := -intstyle default -incremental -initfile xilinxsim.ini 
VERILOG_SRC := 
VERILOG_OBJ := 
VHDL_SRC := rf_ch_swap_tb.vhd \
../../../../modules/rffe_top/bpm_swap_ctrl/rf_ch_swap.vhd \

VHDL_OBJ := work/rf_ch_swap_tb/.rf_ch_swap_tb_vhd \
work/rf_ch_swap/.rf_ch_swap_vhd \

LIBS := work
LIB_IND := work/.work
## rules #################################
sim: xilinxsim.ini $(LIB_IND) $(VERILOG_OBJ) $(VHDL_OBJ)
$(VERILOG_OBJ): $(LIB_IND) xilinxsim.ini
$(VHDL_OBJ): $(LIB_IND) xilinxsim.ini

xilinxsim.ini: $(XILINX_INI_PATH)/xilinxsim.ini
		cp $< .
fuse: ;
ifeq ($(TOP_MODULE),)
		@echo "Environment variable TOP_MODULE not set!"
else
		fuse work.$(TOP_MODULE) -intstyle ise -incremental -o $(FUSE_OUTPUT)
endif
clean:
		rm -rf ./xilinxsim.ini $(LIBS) fuse.xmsgs fuse.log fuseRelaunch.cmd isim isim.log isim.wdb
.PHONY: clean

work/.work:
	(mkdir work && touch work/.work && echo "work=work"  >> xilinxsim.ini) || rm -rf work 


work/rf_ch_swap_tb/.rf_ch_swap_tb_vhd: rf_ch_swap_tb.vhd work/rf_ch_swap_tb/.rf_ch_swap_tb
		vhpcomp $(VHPCOMP_FLAGS)  -work work=./work $< 
		@mkdir -p $(dir $@) && touch $@


work/rf_ch_swap_tb/.rf_ch_swap_tb:
		@mkdir -p $(dir $@) && touch $@

work/rf_ch_swap/.rf_ch_swap_vhd: ../../../../modules/rffe_top/bpm_swap_ctrl/rf_ch_swap.vhd work/rf_ch_swap/.rf_ch_swap
		vhpcomp $(VHPCOMP_FLAGS)  -work work=./work $< 
		@mkdir -p $(dir $@) && touch $@


work/rf_ch_swap/.rf_ch_swap:
		@mkdir -p $(dir $@) && touch $@

